{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adjas\\\\OneDrive\\\\Bureau\\\\eTabax\\\\frontend\\\\src\\\\components\\\\Dashboard\\\\ChefChantier\\\\MonEspace.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst dakar = [14.7167, -17.4677];\nexport default function MonEspace() {\n  _s();\n  const [stats, setStats] = useState({\n    alertes: 0,\n    taches: 0,\n    presents: 0\n  });\n  const [loading, setLoading] = useState(false);\n  const fetchStats = async () => {\n    setLoading(true);\n    try {\n      // Appel API backend pour rÃ©cupÃ©rer les stats\n      const res = await fetch('http://localhost:5000/api/chantier/stats');\n      const data = await res.json();\n      setStats(data.stats);\n    } catch (e) {\n      setStats({\n        alertes: 2,\n        taches: 5,\n        presents: 8\n      }); // fallback mock\n    }\n    setLoading(false);\n  };\n  useEffect(() => {\n    fetchStats();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Vue d'ensemble du chantier\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 24,\n        marginBottom: 24\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\uD83D\\uDEA8 Alertes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-number\",\n          children: stats.alertes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\uD83D\\uDCCB T\\xE2ches \\xE0 faire\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-number\",\n          children: stats.taches\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\uD83D\\uDC77 Ouvriers pr\\xE9sents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-number\",\n          children: stats.presents\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchStats,\n        disabled: loading,\n        style: {\n          height: 48\n        },\n        children: loading ? 'Actualisation...' : 'Actualiser donnÃ©es'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: 300,\n        marginBottom: 24\n      },\n      children: /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: dakar,\n        zoom: 13,\n        style: {\n          height: '250px',\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Marker, {\n          position: dakar,\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: \"Chantier Dakar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Cam\\xE9ra chantier (simulation)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/plan.jpg\",\n        alt: \"Cam\\xE9ra chantier\",\n        style: {\n          width: 300,\n          borderRadius: 8\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n_s(MonEspace, \"x/VDDQ+EonPUsmWbSWUtk1HSLfU=\");\n_c = MonEspace;\nvar _c;\n$RefreshReg$(_c, \"MonEspace\");","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","Marker","Popup","jsxDEV","_jsxDEV","dakar","MonEspace","_s","stats","setStats","alertes","taches","presents","loading","setLoading","fetchStats","res","fetch","data","json","e","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","gap","marginBottom","className","onClick","disabled","height","center","zoom","width","url","position","src","alt","borderRadius","_c","$RefreshReg$"],"sources":["C:/Users/adjas/OneDrive/Bureau/eTabax/frontend/src/components/Dashboard/ChefChantier/MonEspace.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\nconst dakar = [14.7167, -17.4677];\r\n\r\nexport default function MonEspace() {\r\n  const [stats, setStats] = useState({ alertes: 0, taches: 0, presents: 0 });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const fetchStats = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Appel API backend pour rÃ©cupÃ©rer les stats\r\n      const res = await fetch('http://localhost:5000/api/chantier/stats');\r\n      const data = await res.json();\r\n      setStats(data.stats);\r\n    } catch (e) {\r\n      setStats({ alertes: 2, taches: 5, presents: 8 }); // fallback mock\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchStats();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Vue d'ensemble du chantier</h2>\r\n      <div style={{ display: 'flex', gap: 24, marginBottom: 24 }}>\r\n        <div className=\"stat-card\">\r\n          <div>ðŸš¨ Alertes</div>\r\n          <div className=\"stat-number\">{stats.alertes}</div>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <div>ðŸ“‹ TÃ¢ches Ã  faire</div>\r\n          <div className=\"stat-number\">{stats.taches}</div>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <div>ðŸ‘· Ouvriers prÃ©sents</div>\r\n          <div className=\"stat-number\">{stats.presents}</div>\r\n        </div>\r\n        <button onClick={fetchStats} disabled={loading} style={{ height: 48 }}>\r\n          {loading ? 'Actualisation...' : 'Actualiser donnÃ©es'}\r\n        </button>\r\n      </div>\r\n      <div style={{ height: 300, marginBottom: 24 }}>\r\n        <MapContainer center={dakar} zoom={13} style={{ height: '250px', width: '100%' }}>\r\n          <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n          <Marker position={dakar}>\r\n            <Popup>Chantier Dakar</Popup>\r\n          </Marker>\r\n        </MapContainer>\r\n      </div>\r\n      {/* Option : CamÃ©ra/image simulÃ©e */}\r\n      <div>\r\n        <h4>CamÃ©ra chantier (simulation)</h4>\r\n        <img src=\"/plan.jpg\" alt=\"CamÃ©ra chantier\" style={{ width: 300, borderRadius: 8 }} />\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}