{"ast":null,"code":"// Configuration de l'API\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n// Headers par défaut\nconst getDefaultHeaders = () => {\n  const headers = {\n    'Content-Type': 'application/json'\n  };\n\n  // Ajouter le token d'authentification s'il existe\n  const token = localStorage.getItem('authToken');\n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`;\n  }\n  return headers;\n};\n\n// Fonction utilitaire pour les appels API\nconst apiCall = async (endpoint, options = {}) => {\n  const url = `${API_BASE_URL}${endpoint}`;\n  const config = {\n    headers: getDefaultHeaders(),\n    ...options\n  };\n  try {\n    const response = await fetch(url, config);\n    const data = await response.json();\n\n    // Gérer les erreurs HTTP\n    if (!response.ok) {\n      throw new Error(data.message || `Erreur ${response.status}`);\n    }\n    return data;\n  } catch (error) {\n    console.error('Erreur API:', error);\n    throw error;\n  }\n};\n\n// Méthodes HTTP\nconst api = {\n  get: endpoint => apiCall(endpoint, {\n    method: 'GET'\n  }),\n  post: (endpoint, body) => apiCall(endpoint, {\n    method: 'POST',\n    body: JSON.stringify(body)\n  }),\n  put: (endpoint, body) => apiCall(endpoint, {\n    method: 'PUT',\n    body: JSON.stringify(body)\n  }),\n  delete: endpoint => apiCall(endpoint, {\n    method: 'DELETE'\n  })\n};\nexport default api;","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","getDefaultHeaders","headers","token","localStorage","getItem","apiCall","endpoint","options","url","config","response","fetch","data","json","ok","Error","message","status","error","console","api","get","method","post","body","JSON","stringify","put","delete"],"sources":["C:/Users/USER/Documents/Hackathon/eTabax/frontend/src/api/config.js"],"sourcesContent":["// Configuration de l'API\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n// Headers par défaut\r\nconst getDefaultHeaders = () => {\r\n  const headers = {\r\n    'Content-Type': 'application/json',\r\n  };\r\n\r\n  // Ajouter le token d'authentification s'il existe\r\n  const token = localStorage.getItem('authToken');\r\n  if (token) {\r\n    headers['Authorization'] = `Bearer ${token}`;\r\n  }\r\n\r\n  return headers;\r\n};\r\n\r\n// Fonction utilitaire pour les appels API\r\nconst apiCall = async (endpoint, options = {}) => {\r\n  const url = `${API_BASE_URL}${endpoint}`;\r\n  \r\n  const config = {\r\n    headers: getDefaultHeaders(),\r\n    ...options,\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(url, config);\r\n    const data = await response.json();\r\n\r\n    // Gérer les erreurs HTTP\r\n    if (!response.ok) {\r\n      throw new Error(data.message || `Erreur ${response.status}`);\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Erreur API:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Méthodes HTTP\r\nconst api = {\r\n  get: (endpoint) => apiCall(endpoint, { method: 'GET' }),\r\n  \r\n  post: (endpoint, body) => apiCall(endpoint, {\r\n    method: 'POST',\r\n    body: JSON.stringify(body),\r\n  }),\r\n  \r\n  put: (endpoint, body) => apiCall(endpoint, {\r\n    method: 'PUT',\r\n    body: JSON.stringify(body),\r\n  }),\r\n  \r\n  delete: (endpoint) => apiCall(endpoint, { method: 'DELETE' }),\r\n};\r\n\r\nexport default api; "],"mappings":"AAAA;AACA,MAAMA,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;;AAEjF;AACA,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAC9B,MAAMC,OAAO,GAAG;IACd,cAAc,EAAE;EAClB,CAAC;;EAED;EACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EAC/C,IAAIF,KAAK,EAAE;IACTD,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUC,KAAK,EAAE;EAC9C;EAEA,OAAOD,OAAO;AAChB,CAAC;;AAED;AACA,MAAMI,OAAO,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EAChD,MAAMC,GAAG,GAAG,GAAGZ,YAAY,GAAGU,QAAQ,EAAE;EAExC,MAAMG,MAAM,GAAG;IACbR,OAAO,EAAED,iBAAiB,CAAC,CAAC;IAC5B,GAAGO;EACL,CAAC;EAED,IAAI;IACF,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAACH,GAAG,EAAEC,MAAM,CAAC;IACzC,MAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;;IAElC;IACA,IAAI,CAACH,QAAQ,CAACI,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACI,OAAO,IAAI,UAAUN,QAAQ,CAACO,MAAM,EAAE,CAAC;IAC9D;IAEA,OAAOL,IAAI;EACb,CAAC,CAAC,OAAOM,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;IACnC,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA,MAAME,GAAG,GAAG;EACVC,GAAG,EAAGf,QAAQ,IAAKD,OAAO,CAACC,QAAQ,EAAE;IAAEgB,MAAM,EAAE;EAAM,CAAC,CAAC;EAEvDC,IAAI,EAAEA,CAACjB,QAAQ,EAAEkB,IAAI,KAAKnB,OAAO,CAACC,QAAQ,EAAE;IAC1CgB,MAAM,EAAE,MAAM;IACdE,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACF,IAAI;EAC3B,CAAC,CAAC;EAEFG,GAAG,EAAEA,CAACrB,QAAQ,EAAEkB,IAAI,KAAKnB,OAAO,CAACC,QAAQ,EAAE;IACzCgB,MAAM,EAAE,KAAK;IACbE,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACF,IAAI;EAC3B,CAAC,CAAC;EAEFI,MAAM,EAAGtB,QAAQ,IAAKD,OAAO,CAACC,QAAQ,EAAE;IAAEgB,MAAM,EAAE;EAAS,CAAC;AAC9D,CAAC;AAED,eAAeF,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}